recupera todo lo que estaba en este cÃ³digo e integrado al nuevo:

<!DOCTYPE html>Â 
<html lang="es">Â 
<head>Â 
Â  Â  <meta charset="UTF-8">Â 
Â  Â  <script src="https://cdn.tailwindcss.com"></script>Â 
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">Â 
Â  Â  <style>Â 
Â  Â  Â  Â  body { font-family: 'Inter', sans-serif; background-color: #e3e0db; color: #444; }Â 
Â  Â  Â  Â  h1, h2, h3 { font-family: 'Playfair Display', serif; }Â 
Â  Â  Â  Â  .sidebar-item { transition: all 0.2s; cursor: pointer; opacity: 0.6; display: flex; flex-direction: column; align-items: center; padding: 10px 0; width: 100%; }Â 
Â  Â  Â  Â  .sidebar-item:hover { opacity: 1; background: rgba(255,255,255,0.05); }Â 
Â  Â  Â  Â  .active-tab { opacity: 1; background: rgba(255,255,255,0.1); border-radius: 12px; }Â 
Â  Â  Â  Â Â Â 
Â  Â  Â  Â  textarea, input[type="text"] { background: transparent; border: none; outline: none; width: 100%; resize: none; transition: 0.3s; }Â 
Â  Â  Â  Â  textarea:focus, input[type="text"]:focus { background: rgba(0,0,0,0.02); border-radius: 8px; padding: 4px; }Â 
Â  Â  Â  Â Â Â 
Â  Â  Â  Â  .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); }Â 
Â  Â  Â  Â  .day-card { aspect-ratio: 1; display: flex; align-items: center; justify-content: center; border: 0.5px solid #f0f0f0; cursor: pointer; transition: 0.2s; position: relative; }Â 
Â  Â  Â  Â  .day-card:hover { background-color: #f9f9f9; }Â 
Â  Â  Â  Â  .today { background: #333; color: white; border-radius: 50%; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; }Â 
Â  Â  Â  Â Â Â 
Â  Â  Â  Â  /* CAMBIO AQUÃ: Puntito mÃ¡s grande y color beige oscuro */Â 
Â  Â  Â  Â  .has-content::after { content: ''; position: absolute; bottom: 6px; width: 6px; height: 6px; background: #8a817c; border-radius: 50%; }Â 

Â  Â  Â  Â  /* Iconos de Bienestar */Â 
Â  Â  Â  Â  .wellness-icon { cursor: pointer; transition: transform 0.1s ease-in-out; display: flex; flex-direction: column; align-items: center; justify-content: center; }Â 
Â  Â  Â  Â  .wellness-icon:active { transform: scale(0.9); }Â 
Â  Â  Â  Â  .wellness-label { font-size: 8px; margin-top: 2px; font-weight: bold; }Â 
Â  Â  Â  Â Â Â 
Â  Â  Â  Â  .custom-checkbox { accent-color: #333; transform: scale(1.2); cursor: pointer; }Â 
Â  Â  </style>Â 
</head>Â 
<body class="min-h-screen flex flex-col items-center justify-center p-4">Â 

Â  Â  <div class="w-full max-w-6xl bg-[#fcfcfc] rounded-[2.5rem] shadow-2xl flex min-h-[750px] overflow-hidden border border-stone-200">Â 
Â  Â  Â  Â Â Â 
Â  Â  Â  Â  <nav class="w-24 bg-[#1a1a1a] flex flex-col items-center py-6 justify-between text-white overflow-y-auto custom-scrollbar">Â 
Â  Â  Â  Â  Â  Â  <div class="flex flex-col items-center gap-4 w-full px-2">Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="w-14 h-14 bg-[#333] rounded-full flex items-center justify-center font-bold text-sm tracking-widest border border-stone-600 shadow-lg mb-2">THI</div>Â 
Â  Â  Â  Â  Â  Â  Â  Â Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div onclick="showTab('mes')" id="nav-mes" class="sidebar-item active-tab">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-xl">ğŸ“…</span><span class="text-[9px] font-bold tracking-widest mt-1">MES</span>Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div onclick="showTab('dia')" id="nav-dia" class="sidebar-item">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-xl">ğŸ“</span><span class="text-[9px] font-bold tracking-widest mt-1">DÃA</span>Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div onclick="showTab('luces')" id="nav-luces" class="sidebar-item">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-xl">âœ¨</span><span class="text-[9px] font-bold tracking-widest mt-1">LUCES</span>Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div onclick="showTab('oracion')" id="nav-oracion" class="sidebar-item">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-xl">ğŸ™</span><span class="text-[9px] font-bold tracking-widest mt-1">ORACIÃ“N</span>Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div onclick="showTab('bienestar')" id="nav-bienestar" class="sidebar-item">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-xl">ğŸŒ¿</span><span class="text-[9px] font-bold tracking-widest mt-1">BIENESTAR</span>Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div onclick="showTab('notas')" id="nav-notas" class="sidebar-item">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-xl">ğŸ“–</span><span class="text-[9px] font-bold tracking-widest mt-1">NOTAS</span>Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â Â Â 
Â  Â  Â  Â  Â  Â  <a href="https://calendar.google.com" target="_blank" class="opacity-30 hover:opacity-100 transition-opacity mb-4">Â 
Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-xl">ğŸ”—</span>Â 
Â  Â  Â  Â  Â  Â  </a>Â 
Â  Â  Â  Â  </nav>Â 

Â  Â  Â  Â  <main class="flex-1 p-8 overflow-y-auto bg-[#faf9f6]" id="main-scroll">Â 
Â  Â  Â  Â  Â  Â  <div id="view-container"></div>Â 
Â  Â  Â  Â  </main>Â 
Â  Â  </div>Â 

Â  Â  <footer class="mt-4 text-stone-500 text-[10px] tracking-[0.2em] uppercase">Â 
Â  Â  Â  Â  Digital Planner by <span class="font-bold">The Holy Item</span> Â©Â 
Â  Â  </footer>Â 

Â  Â  <script>Â 
Â  Â  Â  Â  // --- CONFIGURACIÃ“N ---Â 
Â  Â  Â  Â  let viewDate = new Date();Â 
Â  Â  Â  Â  let selectedDate = new Date();Â 
Â  Â  Â  Â  const months = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];Â 

Â  Â  Â  Â  // --- MANEJO DE DATOS ---Â 
Â  Â  Â  Â  function getDayData(date) {Â 
Â  Â  Â  Â  Â  Â  const key = `day-${date.toISOString().split('T')[0]}`;Â 
Â  Â  Â  Â  Â  Â  const data = localStorage.getItem(key);Â 
Â  Â  Â  Â  Â  Â  return data ? JSON.parse(data) : {Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  tasks: "",Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  luces: [],Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  examen: ["", "", "", "", ""],Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  wellness: { sleep: 0, water: 0, mobility: 0, nature: 0 },Â 
Â  Â  Â  Â  Â  Â  Â  Â  prayer: { checks: [], message: "" }Â 
Â  Â  Â  Â  Â  Â  };Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function saveDayData(date, data) {Â 
Â  Â  Â  Â  Â  Â  const key = `day-${date.toISOString().split('T')[0]}`;Â 
Â  Â  Â  Â  Â  Â  localStorage.setItem(key, JSON.stringify(data));Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  // --- VISTAS ---Â 
Â  Â  Â  Â  function showTab(tab) {Â 
Â  Â  Â  Â  Â  Â  const container = document.getElementById('view-container');Â 
Â  Â  Â  Â  Â  Â  document.querySelectorAll('.sidebar-item').forEach(el => el.classList.remove('active-tab'));Â 
Â  Â  Â  Â  Â  Â  const navId = tab === 'dia' ? 'dia' : tab;Â Â 
Â  Â  Â  Â  Â  Â  const navEl = document.getElementById('nav-' + navId);Â 
Â  Â  Â  Â  Â  Â  if(navEl) navEl.classList.add('active-tab');Â 

Â  Â  Â  Â  Â  Â  document.getElementById('main-scroll').scrollTop = 0;Â 

Â  Â  Â  Â  Â  Â  if (tab === 'mes') renderMonthView(container);Â 
Â  Â  Â  Â  Â  Â  else if (tab === 'dia') renderDayView(container);Â 
Â  Â  Â  Â  Â  Â  else if (tab === 'luces') renderLucesView(container);Â 
Â  Â  Â  Â  Â  Â  else if (tab === 'oracion') renderPrayerGlobalView(container);Â 
Â  Â  Â  Â  Â  Â  else if (tab === 'bienestar') renderWellnessGlobalView(container);Â 
Â  Â  Â  Â  Â  Â  else renderNotesView(container);Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function renderMonthView(container) {Â 
Â  Â  Â  Â  Â  Â  const monthName = months[viewDate.getMonth()];Â 
Â  Â  Â  Â  Â  Â  container.innerHTML = `Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex justify-between items-center mb-8">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-4xl text-stone-800">${monthName} <span class="text-stone-300">${viewDate.getFullYear()}</span></h2>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex gap-4 text-2xl text-stone-400">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="changeMonth(-1)">â€¹</button><button onclick="changeMonth(1)">â€º</button>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-7 mb-2 text-xs font-bold text-stone-400 tracking-widest text-center">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>DOM</div><div>LUN</div><div>MAR</div><div>MIÃ‰</div><div>JUE</div><div>VIE</div><div>SÃB</div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="calendar-grid bg-white rounded-2xl shadow-sm overflow-hidden border border-stone-100">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${generateCalendarHtml()}Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  `;Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function renderDayView(container) {Â 
Â  Â  Â  Â  Â  Â  const data = getDayData(selectedDate);Â 
Â  Â  Â  Â  Â  Â  const dateStr = `${selectedDate.getDate()} de ${months[selectedDate.getMonth()]}`;Â 

Â  Â  Â  Â  Â  Â  container.innerHTML = `Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center gap-4 mb-6">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="showTab('mes')" class="text-stone-300 hover:text-stone-800 text-xl">â†</button>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-3xl text-stone-800 italic">${dateStr}</h2>Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 

Â  Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="space-y-6">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white p-6 rounded-3xl shadow-sm border border-stone-100">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-sm font-bold text-stone-400 tracking-widest uppercase mb-4">Pendientes</h3>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea oninput="updateField('tasks', this.value)" class="w-full h-40 text-stone-600 leading-relaxed" placeholder="- Tarea importante...">${data.tasks}</textarea>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-[#fffbf0] p-6 rounded-3xl shadow-sm border border-stone-100 relative overflow-hidden">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="absolute top-0 right-0 p-4 opacity-10 text-4xl">âœ¨</div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-sm font-bold text-yellow-600 tracking-widest uppercase mb-4">Luces del dÃ­a âœ¨</h3>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea oninput="updateLuces(this.value)" class="w-full h-32 text-stone-700 italic" placeholder="Â¿QuÃ© pequeÃ±o milagro sucediÃ³ hoy?">${data.luces.join('\n')}</textarea>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white p-6 rounded-3xl shadow-sm border border-stone-100">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-sm font-bold text-stone-400 tracking-widest uppercase mb-6">Bienestar</h3>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="mb-4">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center gap-2 mb-2"><span class="text-lg">ğŸŒ™</span> <span class="text-xs font-bold text-stone-500">SUEÃ‘O (Horas)</span></div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="wellness-sleep" class="flex gap-2 flex-wrap">${generateIcons('sleep', 8, '1HR', data.wellness.sleep, 'text-indigo-400')}</div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="mb-4">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center gap-2 mb-2"><span class="text-lg">ğŸ’§</span> <span class="text-xs font-bold text-stone-500">HIDRATACIÃ“N (Vasos)</span></div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="wellness-water" class="flex gap-2 flex-wrap">${generateIcons('water', 8, '250mL', data.wellness.water, 'text-blue-400')}</div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="mb-4">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center gap-2 mb-2"><span class="text-lg">ğŸ¦¶</span> <span class="text-xs font-bold text-stone-500">MOVILIDAD (Bloques 20m)</span></div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="wellness-mobility" class="flex gap-4">${generateIcons('mobility', 3, '20min', data.wellness.mobility, 'text-orange-400')}</div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center gap-2 mb-2"><span class="text-lg">ğŸŒ¿</span> <span class="text-xs font-bold text-stone-500">NATURALEZA (Bloques 10m)</span></div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="wellness-nature" class="flex gap-4">${generateIcons('nature', 3, '10min', data.wellness.nature, 'text-green-500')}</div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="space-y-6">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white p-6 rounded-3xl shadow-sm border border-stone-100">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-sm font-bold text-stone-400 tracking-widest uppercase mb-4">Examen de Conciencia</h3>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${renderExamenInputs(data.examen)}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-stone-800 p-6 rounded-3xl shadow-sm border border-stone-700 text-stone-200">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="text-sm font-bold text-stone-400 tracking-widest uppercase mb-4">Vida de OraciÃ³n</h3>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xs leading-relaxed text-stone-400 mb-6 italic">"La oraciÃ³n es la conversaciÃ³n que sostenemos con Dios todos los dÃ­as: en medio de actividades, triunfos y caÃ­das. Una uniÃ³n real, personal y constante."</p>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="font-bold text-sm mb-3">Â¿CÃ³mo escuchÃ© y hablÃ© con Dios hoy?</p>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-1 gap-2 text-sm text-stone-300 mb-6">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${renderPrayerChecklist(data.prayer.checks)}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="font-bold text-sm mb-2">Â¿QuÃ© me dijo Dios hoy?</p>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea oninput="updatePrayerMsg(this.value)" class="w-full h-24 bg-stone-700/50 rounded-xl p-3 text-stone-200 text-sm" placeholder="GuÃ¡rdalo en el corazÃ³n...">${data.prayer.message}</textarea>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  `;Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function renderLucesView(container) {Â 
Â  Â  Â  Â  Â  Â  const allKeys = Object.keys(localStorage).filter(k => k.startsWith('day-')).sort().reverse();Â 
Â  Â  Â  Â  Â  Â  let html = `<h2 class="text-4xl text-stone-800 mb-2">Mis Luces âœ¨</h2>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-stone-400 mb-8">PequeÃ±os destellos de Dios en mi vida.</p>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="columns-1 md:columns-2 gap-6 space-y-6">`;Â 
Â  Â  Â  Â  Â  Â Â Â 
Â  Â  Â  Â  Â  Â  if (allKeys.length === 0) html += `<p class="italic text-stone-400">AÃºn no hay luces registradas.</p>`;Â 

Â  Â  Â  Â  Â  Â  allKeys.forEach(key => {Â 
Â  Â  Â  Â  Â  Â  Â  Â  const data = JSON.parse(localStorage.getItem(key));Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (data.luces && data.luces.length > 0 && data.luces[0] !== "") {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dateParts = key.replace('day-', '').split('-');Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dateDisplay = `${dateParts[2]}/${dateParts[1]}/${dateParts[0]}`;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  html += `Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white p-6 rounded-2xl shadow-sm border border-yellow-100 break-inside-avoid">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-[10px] font-bold text-yellow-600 mb-2">${dateDisplay}</div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-stone-600 italic font-serif text-lg leading-relaxed">"${data.luces.join(' ')}"</p>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;Â 
Â  Â  Â  Â  Â  Â  Â  Â  }Â 
Â  Â  Â  Â  Â  Â  });Â 
Â  Â  Â  Â  Â  Â  html += `</div>`;Â 
Â  Â  Â  Â  Â  Â  container.innerHTML = html;Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function renderPrayerGlobalView(container) {Â 
Â  Â  Â  Â  Â  Â  Â const allKeys = Object.keys(localStorage).filter(k => k.startsWith('day-')).sort().reverse();Â 
Â  Â  Â  Â  Â  Â  Â let html = `<h2 class="text-4xl text-stone-800 mb-2">Diario Espiritual ğŸ™</h2>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <p class="text-stone-400 mb-8">Mi historia de salvaciÃ³n personal.</p>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="space-y-6 max-w-3xl">`;Â 

Â  Â  Â  Â  Â  Â  Â allKeys.forEach(key => {Â 
Â  Â  Â  Â  Â  Â  Â  Â  const data = JSON.parse(localStorage.getItem(key));Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (data.prayer && data.prayer.message) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dateParts = key.replace('day-', '').split('-');Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dateDisplay = `${dateParts[2]} ${months[parseInt(dateParts[1])-1]} ${dateParts[0]}`;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  html += `Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white p-8 rounded-3xl shadow-sm border border-stone-100 relative">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="absolute top-6 right-8 text-xs font-bold text-stone-300 uppercase">${dateDisplay}</div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 class="font-serif text-xl text-stone-800 mb-4">Lo que Dios me dijo:</h4>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-stone-600 leading-relaxed">${data.prayer.message}</p>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${data.prayer.checks.length > 0 ? `<div class="mt-4 pt-4 border-t border-stone-100 text-xs text-stone-400">Medios: ${data.prayer.checks.join(', ')}</div>` : ''}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;Â 
Â  Â  Â  Â  Â  Â  Â  Â  }Â 
Â  Â  Â  Â  Â  Â  Â });Â 
Â  Â  Â  Â  Â  Â  Â container.innerHTML = html;Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function renderWellnessGlobalView(container) {Â 
Â  Â  Â  Â  Â  Â  const allKeys = Object.keys(localStorage).filter(k => k.startsWith('day-'));Â 
Â  Â  Â  Â  Â  Â  let totalDays = 0;Â 
Â  Â  Â  Â  Â  Â  let totals = { sleep: 0, water: 0, mobility: 0, nature: 0 };Â 
Â  Â  Â  Â  Â  Â  const maxPoints = { sleep: 8, water: 8, mobility: 3, nature: 3 };Â 

Â  Â  Â  Â  Â  Â  allKeys.forEach(key => {Â 
Â  Â  Â  Â  Â  Â  Â  Â  const data = JSON.parse(localStorage.getItem(key));Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (data.wellness) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(data.wellness.sleep > 0 || data.wellness.water > 0 || data.wellness.mobility > 0 || data.wellness.nature > 0) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totalDays++;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totals.sleep += (data.wellness.sleep || 0);Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totals.water += (data.wellness.water || 0);Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totals.mobility += (data.wellness.mobility || 0);Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  totals.nature += (data.wellness.nature || 0);Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }Â 
Â  Â  Â  Â  Â  Â  Â  Â  }Â 
Â  Â  Â  Â  Â  Â  });Â 

Â  Â  Â  Â  Â  Â  if (totalDays === 0) totalDays = 1;Â 

Â  Â  Â  Â  Â  Â  const scores = {Â 
Â  Â  Â  Â  Â  Â  Â  Â  sleep: Math.round((totals.sleep / (totalDays * maxPoints.sleep)) * 100),Â 
Â  Â  Â  Â  Â  Â  Â  Â  water: Math.round((totals.water / (totalDays * maxPoints.water)) * 100),Â 
Â  Â  Â  Â  Â  Â  Â  Â  mobility: Math.round((totals.mobility / (totalDays * maxPoints.mobility)) * 100),Â 
Â  Â  Â  Â  Â  Â  Â  Â  nature: Math.round((totals.nature / (totalDays * maxPoints.nature)) * 100)Â 
Â  Â  Â  Â  Â  Â  };Â 

Â  Â  Â  Â  Â  Â  const introText = "Estamos llamados a vivir una armonÃ­a de amor propio: a cuidarnos con prudencia, sabiendo que Dios nos asiste y nos acompaÃ±a incluso en lo mÃ¡s humano y corporal.";Â 

Â  Â  Â  Â  Â  Â  container.innerHTML = `Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="max-w-4xl mx-auto">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-4xl text-stone-800 mb-6">Mi Bienestar ğŸŒ¿</h2>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-lg text-stone-500 italic font-serif mb-10 leading-relaxed bg-white p-6 rounded-2xl border border-stone-100 shadow-sm">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "${introText}"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${renderScoreCard('SueÃ±o', scores.sleep, 'ğŸŒ™', "QuizÃ¡s esta semana podrÃ­as irte a dormir mÃ¡s temprano, prioriza tu descanso. Â¡Ãnimo!")}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${renderScoreCard('HidrataciÃ³n', scores.water, 'ğŸ’§', "Te reto a llevarte tu termo de agua a todos lados durante esta semana.")}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${renderScoreCard('Movilidad', scores.mobility, 'ğŸ¦¶', "QuÃ© te parece si esta semana cada 4 horas te propones caminar 10 minutos, aunque sea dentro de un edificio.")}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${renderScoreCard('Naturaleza', scores.nature, 'ğŸŒ¿', "Estar en contacto con la naturaleza tambiÃ©n es un tema de atenciÃ³n. Â¿QuÃ© te parece si estÃ¡ semana admiras conscientemente la creaciÃ³n que te rodea?")}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  `;Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function renderScoreCard(title, score, icon, feedback) {Â 
Â  Â  Â  Â  Â  Â  let color = score > 70 ? 'bg-green-100 text-green-700' : (score > 40 ? 'bg-yellow-100 text-yellow-700' : 'bg-red-50 text-red-700');Â 
Â  Â  Â  Â  Â  Â  let showFeedback = score < 60;Â Â 

Â  Â  Â  Â  Â  Â  return `Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white p-6 rounded-3xl shadow-sm border border-stone-100">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex justify-between items-center mb-4">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center gap-3">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-2xl">${icon}</span>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="font-bold text-stone-600 uppercase tracking-widest text-sm">${title}</h3>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-2xl font-bold text-stone-800">${score}%</span>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="w-full bg-stone-100 rounded-full h-2 mb-4 overflow-hidden">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="h-full bg-stone-800" style="width: ${score}%"></div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${showFeedback ? `Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="mt-4 p-4 ${color} rounded-xl text-sm italic leading-relaxed">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${feedback}Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ` : `<div class="mt-4 text-xs text-stone-400 text-center">Â¡Vas muy bien! MantÃ©n el ritmo.</div>`}Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  `;Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function renderNotesView(container) {Â 
Â  Â  Â  Â  Â  Â  Â const saved = localStorage.getItem('global-notes') || "";Â 
Â  Â  Â  Â  Â  Â  Â // CAMBIO AQUÃ: TÃ­tulo actualizadoÂ 
Â  Â  Â  Â  Â  Â  Â container.innerHTML = `Â 
Â  Â  Â  Â  Â  Â  Â  Â  <h2 class="text-4xl text-stone-800 mb-6">Notas generales ğŸ“–</h2>Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white p-8 rounded-3xl shadow-sm border border-stone-100 min-h-[500px]">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea oninput="localStorage.setItem('global-notes', this.value)"Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  class="w-full h-full text-lg text-stone-600 leading-relaxed"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="Escribe aquÃ­ ideas, proyectos o pensamientos que no dependan de una fecha...">${saved}</textarea>Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  `;Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  // --- COMPONENTES ---Â 

Â  Â  Â  Â  function generateIcons(type, max, label, currentVal, activeColorClass) {Â 
Â  Â  Â  Â  Â  Â  let html = '';Â 
Â  Â  Â  Â  Â  Â  const iconsMap = { sleep: 'ğŸŒ™', water: 'ğŸ’§', mobility: 'ğŸ¦¶', nature: 'ğŸŒ¿' };Â 
Â  Â  Â  Â  Â  Â  const iconChar = iconsMap[type];Â 

Â  Â  Â  Â  Â  Â  const bgActive = activeColorClass.replace('text', 'bg').replace('400', '100').replace('500', '100');Â 
Â  Â  Â  Â  Â  Â Â Â 
Â  Â  Â  Â  Â  Â  for(let i=1; i<=max; i++) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  const isActive = i <= currentVal;Â 
Â  Â  Â  Â  Â  Â  Â  Â  const bgClass = isActive ? bgActive : 'bg-stone-50';Â 
Â  Â  Â  Â  Â  Â  Â  Â  const textClass = isActive ? activeColorClass : 'text-stone-300';Â 
Â  Â  Â  Â  Â  Â  Â  Â  const labelClass = isActive ? 'text-stone-600' : 'text-stone-300';Â 
Â  Â  Â  Â  Â  Â  Â  Â  const opacity = isActive ? 'opacity-100 filter-none' : 'opacity-40 grayscale';Â 

Â  Â  Â  Â  Â  Â  Â  Â  html += `Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div onclick="updateWellness('${type}', ${i})" class="wellness-icon group ${opacity}">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="w-8 h-8 rounded-full border border-stone-200 flex items-center justify-center ${bgClass}">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-lg ${textClass}">${iconChar}</span>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="wellness-label ${labelClass}">${label}</span>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  Â  Â  `;Â 
Â  Â  Â  Â  Â  Â  }Â 
Â  Â  Â  Â  Â  Â  return html;Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function renderExamenInputs(values) {Â 
Â  Â  Â  Â  Â  Â  const questions = [Â 
Â  Â  Â  Â  Â  Â  Â  Â  "Â¿QuÃ© es lo que mÃ¡s agradezco de hoy?",Â 
Â  Â  Â  Â  Â  Â  Â  Â  "Â¿En quÃ© lugares, situaciones o personas vi a Dios el dÃ­a de hoy?",Â 
Â  Â  Â  Â  Â  Â  Â  Â  "Â¿QuÃ© emociÃ³n predominÃ³ hoy? (HÃ¡blalo con Dios)",Â 
Â  Â  Â  Â  Â  Â  Â  Â  "Â¿Desde quÃ© lugar interior me gustarÃ­a vivir maÃ±ana?",Â 
Â  Â  Â  Â  Â  Â  Â  Â  "Â¿En quÃ© momentos me quedÃ© corta en amor? (Pide un corazÃ³n como el Suyo)"Â 
Â  Â  Â  Â  Â  Â  ];Â 
Â  Â  Â  Â  Â  Â Â Â 
Â  Â  Â  Â  Â  Â  return questions.map((q, idx) => `Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="mb-4">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-xs font-bold text-stone-500 mb-2 leading-tight">${q}</label>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea oninput="updateExamen(${idx}, this.value)" class="w-full h-16 bg-stone-50 rounded-xl p-3 text-sm text-stone-700 focus:bg-white border border-transparent focus:border-stone-200" placeholder="Escribe aquÃ­...">${values[idx] || ''}</textarea>Â 
Â  Â  Â  Â  Â  Â  Â  Â  </div>Â 
Â  Â  Â  Â  Â  Â  `).join('');Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function renderPrayerChecklist(checkedItems) {Â 
Â  Â  Â  Â  Â  Â  const options = ["MeditaciÃ³n de la palabra", "ContemplaciÃ³n en el santÃ­simo", "ContemplaciÃ³n en la naturaleza", "ConversaciÃ³n en el coche", "OraciÃ³n de repeticiÃ³n", "Lectura espiritual", "Otro"];Â 
Â  Â  Â  Â  Â  Â Â Â 
Â  Â  Â  Â  Â  Â  return options.map(opt => {Â 
Â  Â  Â  Â  Â  Â  Â  Â  const isChecked = checkedItems.includes(opt);Â 
Â  Â  Â  Â  Â  Â  Â  Â  return `Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="flex items-center gap-3 cursor-pointer hover:text-white transition-colors">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="checkbox" class="custom-checkbox w-4 h-4 bg-transparent border-stone-500 rounded"Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${isChecked ? 'checked' : ''}Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onchange="togglePrayerCheck('${opt}')">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span>${opt}</span>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </label>Â 
Â  Â  Â  Â  Â  Â  Â  Â  `;Â 
Â  Â  Â  Â  Â  Â  }).join('');Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  // --- ACTUALIZACIÃ“N OPTIMIZADA ---Â 

Â  Â  Â  Â  function updateWellness(type, val) {Â 
Â  Â  Â  Â  Â  Â  const data = getDayData(selectedDate);Â 
Â  Â  Â  Â  Â  Â  const newValue = (data.wellness[type] === val) ? 0 : val;Â 
Â  Â  Â  Â  Â  Â  data.wellness[type] = newValue;Â 
Â  Â  Â  Â  Â  Â  saveDayData(selectedDate, data);Â 

Â  Â  Â  Â  Â  Â  const container = document.getElementById(`wellness-${type}`);Â 
Â  Â  Â  Â  Â  Â  const icons = container.children;Â 
Â  Â  Â  Â  Â  Â Â Â 
Â  Â  Â  Â  Â  Â  const colorMap = {Â 
Â  Â  Â  Â  Â  Â  Â  Â  'sleep': { text: 'text-indigo-400', bg: 'bg-indigo-100' },Â 
Â  Â  Â  Â  Â  Â  Â  Â  'water': { text: 'text-blue-400', bg: 'bg-blue-100' },Â 
Â  Â  Â  Â  Â  Â  Â  Â  'mobility': { text: 'text-orange-400', bg: 'bg-orange-100' },Â 
Â  Â  Â  Â  Â  Â  Â  Â  'nature': { text: 'text-green-500', bg: 'bg-green-100' }Â 
Â  Â  Â  Â  Â  Â  };Â 
Â  Â  Â  Â  Â  Â  const styles = colorMap[type];Â 

Â  Â  Â  Â  Â  Â  for (let i = 0; i < icons.length; i++) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  const iconDiv = icons[i];Â 
Â  Â  Â  Â  Â  Â  Â  Â  const circle = iconDiv.querySelector('div');Â 
Â  Â  Â  Â  Â  Â  Â  Â  const iconSpan = circle.querySelector('span');Â 
Â  Â  Â  Â  Â  Â  Â  Â  const labelSpan = iconDiv.querySelector('.wellness-label');Â 
Â  Â  Â  Â  Â  Â  Â  Â  const indexVal = i + 1;Â 

Â  Â  Â  Â  Â  Â  Â  Â  if (indexVal <= newValue) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  iconDiv.classList.remove('opacity-40', 'grayscale');Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  iconDiv.classList.add('opacity-100', 'filter-none');Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  circle.className = `w-8 h-8 rounded-full border border-stone-200 flex items-center justify-center ${styles.bg}`;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  iconSpan.className = `text-lg ${styles.text}`;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  labelSpan.className = "wellness-label text-stone-600";Â 
Â  Â  Â  Â  Â  Â  Â  Â  } else {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  iconDiv.classList.add('opacity-40', 'grayscale');Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  iconDiv.classList.remove('opacity-100', 'filter-none');Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  circle.className = "w-8 h-8 rounded-full border border-stone-200 flex items-center justify-center bg-stone-50";Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  iconSpan.className = "text-lg text-stone-300";Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  labelSpan.className = "wellness-label text-stone-300";Â 
Â  Â  Â  Â  Â  Â  Â  Â  }Â 
Â  Â  Â  Â  Â  Â  }Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function updateField(field, value) {Â 
Â  Â  Â  Â  Â  Â  const data = getDayData(selectedDate);Â 
Â  Â  Â  Â  Â  Â  data[field] = value;Â 
Â  Â  Â  Â  Â  Â  saveDayData(selectedDate, data);Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function updateLuces(value) {Â 
Â  Â  Â  Â  Â  Â  const data = getDayData(selectedDate);Â 
Â  Â  Â  Â  Â  Â  data.luces = [value];Â Â 
Â  Â  Â  Â  Â  Â  saveDayData(selectedDate, data);Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function updateExamen(idx, value) {Â 
Â  Â  Â  Â  Â  Â  const data = getDayData(selectedDate);Â 
Â  Â  Â  Â  Â  Â  data.examen[idx] = value;Â 
Â  Â  Â  Â  Â  Â  saveDayData(selectedDate, data);Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function togglePrayerCheck(option) {Â 
Â  Â  Â  Â  Â  Â  const data = getDayData(selectedDate);Â 
Â  Â  Â  Â  Â  Â  const idx = data.prayer.checks.indexOf(option);Â 
Â  Â  Â  Â  Â  Â  if (idx > -1) data.prayer.checks.splice(idx, 1);Â 
Â  Â  Â  Â  Â  Â  else data.prayer.checks.push(option);Â 
Â  Â  Â  Â  Â  Â  saveDayData(selectedDate, data);Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function updatePrayerMsg(val) {Â 
Â  Â  Â  Â  Â  Â  const data = getDayData(selectedDate);Â 
Â  Â  Â  Â  Â  Â  data.prayer.message = val;Â 
Â  Â  Â  Â  Â  Â  saveDayData(selectedDate, data);Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  // --- CALENDARIO ---Â 
Â  Â  Â  Â  function generateCalendarHtml() {Â 
Â  Â  Â  Â  Â  Â  let html = '';Â 
Â  Â  Â  Â  Â  Â  const year = viewDate.getFullYear();Â 
Â  Â  Â  Â  Â  Â  const month = viewDate.getMonth();Â 
Â  Â  Â  Â  Â  Â  const firstDayIndex = new Date(year, month, 1).getDay();Â 
Â  Â  Â  Â  Â  Â  const lastDay = new Date(year, month + 1, 0).getDate();Â 
Â  Â  Â  Â  Â  Â  const prevLastDay = new Date(year, month, 0).getDate();Â 

Â  Â  Â  Â  Â  Â  for (let x = firstDayIndex; x > 0; x--) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  html += `<div class="day-card text-stone-200 bg-stone-50/50">${prevLastDay - x + 1}</div>`;Â 
Â  Â  Â  Â  Â  Â  }Â 

Â  Â  Â  Â  Â  Â  for (let i = 1; i <= lastDay; i++) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  const d = new Date(year, month, i);Â 
Â  Â  Â  Â  Â  Â  Â  Â  const key = `day-${d.toISOString().split('T')[0]}`;Â 
Â  Â  Â  Â  Â  Â  Â  Â  const data = localStorage.getItem(key);Â 
Â  Â  Â  Â  Â  Â  Â  Â  let hasContent = false;Â 
Â  Â  Â  Â  Â  Â  Â  Â  if(data) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const p = JSON.parse(data);Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(p.tasks || (p.luces && p.luces.length && p.luces[0]) || p.prayer.message) hasContent = true;Â 
Â  Â  Â  Â  Â  Â  Â  Â  }Â 

Â  Â  Â  Â  Â  Â  Â  Â  const isToday = new Date().toDateString() === d.toDateString();Â 
Â  Â  Â  Â  Â  Â  Â  Â  const isSelected = selectedDate.toDateString() === d.toDateString();Â 

Â  Â  Â  Â  Â  Â  Â  Â  html += `Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div onclick="selectDate(${year}, ${month}, ${i})"Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â class="day-card text-stone-500 font-medium ${hasContent ? 'has-content' : ''} ${isSelected ? 'bg-stone-100 ring-2 ring-stone-200' : ''}">Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="${isToday ? 'today' : ''}">${i}</span>Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>`;Â 
Â  Â  Â  Â  Â  Â  }Â 
Â  Â  Â  Â  Â  Â  return html;Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function changeMonth(offset) {Â 
Â  Â  Â  Â  Â  Â  viewDate.setMonth(viewDate.getMonth() + offset);Â 
Â  Â  Â  Â  Â  Â  showTab('mes');Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  function selectDate(y, m, d) {Â 
Â  Â  Â  Â  Â  Â  selectedDate = new Date(y, m, d);Â 
Â  Â  Â  Â  Â  Â  showTab('dia');Â 
Â  Â  Â  Â  }Â 

Â  Â  Â  Â  showTab('mes');Â 
Â  Â  </script>Â 
</body>Â 
</html>
